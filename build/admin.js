!function(e,t){new class{constructor(){this.refundType=null,t.addEventListener("DOMContentLoaded",(()=>{this.init()}))}init(){e(".gifty-order-totals").length>0&&this.renderPaymentsOnOrderPage(),e(".wc-order-refund-items").length>0&&e(".wc-gifty-refund-available").data("amount")>0&&this.renderRefundOptionsOnOrderPage()}renderPaymentsOnOrderPage(){e(".gifty-order-totals").next("tr").hide()}renderRefundOptionsOnOrderPage(){let t=e(".wc-order-totals").find('label[for="refund_amount"]').parentsUntil("tr").parent();e(".wc-gifty-refund-applied").insertBefore(t),e(".wc-gifty-refund-available").insertAfter(".wc-gifty-refund-applied"),e(".wc-gifty-refund-button").prependTo(".refund-actions"),e("#woocommerce-order-items").on("click",".wc-gifty-refund-button",this.handle_refund_event.bind(this)),e("#woocommerce-order-items").on("woocommerce_order_meta_box_do_refund_ajax_data",this.filter_refund_data.bind(this)),e(".wc_gifty_refund_applied").show(),e(".wc-gifty-refund-available").show(),e(".wc-gifty-refund-button").show()}handle_refund_event(t){null===this.refundType&&(t.stopImmediatePropagation(),this.refundType="gifty",e(t.target).trigger("click"))}filter_refund_data(e,t){return"gifty"!==this.refundType||(this.refundType=null,t.gifty_refund=!0),t}}}(jQuery,document);